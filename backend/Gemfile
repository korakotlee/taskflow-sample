source "https://rubygems.org"

ruby "3.4.7"

# Core Rails
gem "rails", "~> 8.1"
gem "pg", "~> 1.5"     # PostgreSQL adapter
gem "puma", "~> 6.0"   # Web server
gem "bootsnap", ">= 1.4.0", require: false

# Authentication & Authorization
gem "bcrypt", "~> 3.1.20"  # Password hashing
gem "jwt", "~> 2.8"        # JSON Web Tokens

# Background Jobs
gem "sidekiq", "~> 8.0"
gem "redis", "~> 5.0"

# API & Serialization
gem "jsonapi-serializer", "~> 2.2"  # JSON API formatting
gem "rack-cors", "~> 2.0"           # CORS handling

# File Uploads
gem "aws-sdk-s3", "~> 1.140"  # S3 integration
gem "image_processing", "~> 1.12"  # Image resizing

group :development, :test do
  gem "debug", platforms: %i[ mri windows ]
  gem "rspec-rails", "~> 6.1"
  gem "factory_bot_rails", "~> 6.4"
  gem "faker", "~> 3.2"
end

group :development do
  # Use a fork/branch that supports ActiveRecord 8.x until upstream releases.
  gem "annotate", git: "https://github.com/andynu/annotate_models.git", branch: "rails-8-0"
end

group :test do
  gem "shoulda-matchers", "~> 6.0"
  gem "database_cleaner-active_record", "~> 2.1"
end
